<div class="lobby-container">
  <!-- Notifiche -->
  <div class="notification error" *ngIf="errorMessage" [@fadeInOut]>
    <span class="notification-icon">⚠️</span>
    <span class="notification-text">{{ errorMessage }}</span>
  </div>

  <button class="info-btn-fixed" (click)="showInfo()" title="Informazioni">
    <span>ℹ</span>
  </button>
  <div class="lobby-card">
    <div class="champions-logo">
      <img src="assets/champions.png" alt="Champions" class="champions-img">
    </div>

    <div class="input-group">
      <input
        type="text"
        [(ngModel)]="playerName"
        placeholder="Il tuo nome"
        maxlength="20"
        (keyup.enter)="activeRooms.length === 0 ? createRoom() : joinRoom()"
      />
    </div>

    <!-- Se NON ci sono stanze attive, mostra solo "Crea Partita" -->
    <div class="button-group" *ngIf="activeRooms.length === 0">
      <button class="btn-primary" (click)="createRoom()" [disabled]="!playerName.trim()">
        Crea Partita
      </button>
    </div>

    <!-- Se c'è una stanza attiva, mostra solo "Unisciti a Partita" e le info della stanza -->
    <div *ngIf="activeRooms.length > 0">
      <div class="active-rooms">
        <h3>Partita Disponibile</h3>
        <div class="room-list">
          <div class="room-item" *ngFor="let room of activeRooms">
            <div class="room-info">
              <span class="room-code">{{ room.code }}</span>
              <span class="room-host">Host: {{ room.hostName }}</span>
              <span class="room-players">{{ room.playerCount }}/4 giocatori</span>
            </div>
          </div>
        </div>
      </div>
      <div class="button-group">
        <button class="btn-primary" (click)="joinRoom()" [disabled]="!playerName.trim()">
          Unisciti a Partita
        </button>
      </div>
    </div>
  </div>
</div>